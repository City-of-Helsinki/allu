<div fxLayout="row" fxFill class="toolbar">
  <div fxFlex="250px" fxFlexAlign="center" class="logo">
    <div>
      <a [routerLink]="['/home']" routerLinkActive="active">
        <img *ngIf="logo" [src]="logo" [alt]="'nav.home' | translation">
      </a>
    </div>
    <div class="version">{{versionÂ | async}}</div>
  </div>
  <div fxFlex="auto">
    <navbar *ngIf="authenticated"></navbar>
  </div>
  <div fxFlex="none" class="toolbar-section">
    <button mat-icon-button [matMenuTriggerFor]="applicationBasket">
      <mat-icon>shopping_basket</mat-icon>
    </button>
    <span class="pill">{{applicationBasketSize$ | async}}</span>
  </div>
  <div fxFlex="none" fxFlexAlign="center" class="nav-controls toolbar-section" *ngIf="authenticated">
    <a [routerLink]="['/logout']">KIRJAUDU ULOS</a>
  </div>
</div>

<mat-menu #applicationBasket="matMenu" [overlapTrigger]="false" class="allu-application-basket">
  <div (click)="$event.stopPropagation()">
    <application-basket></application-basket>
  </div>
</mat-menu>


