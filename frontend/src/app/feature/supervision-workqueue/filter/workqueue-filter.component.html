<div class="search-bar">
  <div fxLayout="row" fxFlexAlign="space-between center" class="header-row">
    <div fxFlex>
      <h1>{{'supervisionWorkqueue.title' | translation | uppercase}}</h1>
    </div>
    <div fxFlex="0 1 auto">
      <div fxLayout="row" fxLayoutGap="18px">
        <div fxFlex="none" *ngIf="defaultFilter | async as filter">
          <input-box class="input-box-icon-button">
            <button inputBoxInput
                    class="input-box-content allu-icon-button"
                    (click)="selectFilter(filter)">
              <mat-icon color="primary" class="mat-icon-36">home</mat-icon>
            </button>
          </input-box>
        </div>
        <div fxFlex="0 0 220px"
             fxFlex.lt-md="100%">
          <stored-filter [type]="SUPERVISION_WORKQUEUE_FILTER"
                         [selectedFilter]="selectedFilter | async"
                         [availableFilters]="availableFilters | async"
                         [filter]="taskFilter | async"></stored-filter>
        </div>
      </div>
    </div>
  </div>

  <form [formGroup]="queryForm">
    <div fxLayout="row" fxLayout.lt-md="column" fxLayoutWrap fxLayoutGap="0.75rem">
      <div fxFlex="15">
        <mat-form-field class="input-full-width">
          <mat-select formControlName="taskTypes" [multiple]="true"
                      [placeholder]="'supervisionWorkqueue.filter.taskTypes' | translation">
            <mat-option *ngFor="let type of taskTypes" [value]="type">{{['supervision.task.type', type] |
              translation}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div fxFlex="15">
        <mat-form-field class="input-full-width">
          <input matInput type="text" formControlName="applicationId"
                 [placeholder]="'supervisionWorkqueue.filter.applicationId' | translation">
        </mat-form-field>
      </div>
      <div fxFlex="15">
        <mat-form-field class="input-full-width">
          <mat-select formControlName="applicationStatus" [multiple]="true"
                      [placeholder]="'supervisionWorkqueue.filter.applicationStatus' | translation">
            <mat-option *ngFor="let status of applicationStatusTypes" [value]="status">{{['application.status', status]
              | translation}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div fxFlex="15">
        <mat-form-field class="input-full-width">
          <mat-select formControlName="applicationTypes" [multiple]="true"
                      [placeholder]="'supervisionWorkqueue.filter.applicationType' | translation">
            <mat-option *ngFor="let type of applicationTypes" [value]="type">{{['application.type', type] |
              translation}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div fxFlex="10">
        <mat-form-field class="input-full-width">
          <mat-select formControlName="cityDistrictIds" [multiple]="true" class="input-full-width"
                      [placeholder]="'supervisionWorkqueue.filter.cityDistrict' | translation">
            <mat-option *ngFor="let district of districts | async" [value]="district.id">{{district.name}}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div fxFlex="10">
        <mat-form-field class="input-full-width">
          <input matInput type="text" formControlName="after"
                 [placeholder]="'supervisionWorkqueue.filter.after' | translation"
                 [matDatepicker]="afterPicker"/>
          <mat-datepicker-toggle matSuffix [for]="afterPicker"></mat-datepicker-toggle>
          <mat-datepicker #afterPicker></mat-datepicker>
        </mat-form-field>
      </div>
      <div fxFlex="10">
        <mat-form-field class="input-full-width">
          <input matInput type="text" formControlName="before"
                 [placeholder]="'supervisionWorkqueue.filter.before' | translation"
                 [matDatepicker]="beforePicker"/>
          <mat-datepicker-toggle matSuffix [for]="beforePicker"></mat-datepicker-toggle>
          <mat-datepicker #beforePicker></mat-datepicker>
        </mat-form-field>
      </div>
    </div>
  </form>
</div>
