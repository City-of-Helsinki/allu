<div class="row">
    <div class=" col s12">
        <table class="bordered responsive-table">
            <thead>
            <tr>
                <th>
                    <md-checkbox [(ngModel)]="allSelected" (click)="checkAll()"></md-checkbox>
                </th>
                <th sortBy="handler.userName" [currentSort]="sort" (onSortChange)="sortBy($event)">Käsittelijä</th>
                <th>Hanke</th>
                <th sortBy="applicationId" [currentSort]="sort" (onSortChange)="sortBy($event)">Tunnus</th>
                <th sortBy="type" [currentSort]="sort" (onSortChange)="sortBy($event)">Tyyppi</th>
                <th sortBy="status" [currentSort]="sort" (onSortChange)="sortBy($event)">Tila</th>
                <th sortBy="applicant.name" [currentSort]="sort" (onSortChange)="sortBy($event)">Hakija</th>
                <th sortBy="location.streetAddress" [currentSort]="sort" (onSortChange)="sortBy($event)">Katuosoite</th>
                <th sortBy="location.districtId" [currentSort]="sort" (onSortChange)="sortBy($event)">Kaupunginosa</th>
                <th>Saapunut</th>
                <th sortBy="startTime" [currentSort]="sort" (onSortChange)="sortBy($event)">Aloitus</th>
                <th>Kommentit</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let row of applicationRows" class="row-highlight" (click)="goToSummary($event.target.cellIndex, row.application)">
                <td>
                    <md-checkbox [ngModel]="row.selected" (change)="checkSingle(row)"></md-checkbox>
                </td>
                <td class="clickable">{{row.application.handler?.realName}}</td>
                <td class="clickable">
                    {{row.application.project?.name}} <br>
                    <span>{{row.application.project?.id}}</span>
                </td>
                <td class="clickable">{{row.application.applicationId}}</td>
                <td class="clickable">{{translations.application.type[row.application.type]}}</td>
                <td class="clickable">{{translations.application.status[row.application.status]}}</td>
                <td class="clickable">
                    {{row.application.applicant.name}}<br>
                </td>
                <td class="clickable">{{row.application.firstLocation?.postalAddress?.streetAddress}}</td>
                <td class="clickable">{{districtName(row.application.firstLocation.effectiveCityDistrictId) | async}}</td>
                <td class="clickable">{{row.application.uiApplicationCreationTime}}</td>
                <td class="clickable">{{row.application.extension.uiStartTime}}</td>
                <td class="clickable">
                    <span *ngIf="row.application.comments.length">
                        <button md-raised-button type="button" color="primary" (click)="showComments(row.application.id)">NÄYTÄ</button>
                    </span>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
