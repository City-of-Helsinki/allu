<form [formGroup]="customerForm">
    <div class="col m6">
        <md-card class="customer-card">
            <md-card-title>
                {{['customer.role', customerWithContacts.uiRoleType, 'title'] | translation}}
                <button md-icon-button type="button" *ngIf="canBeEdited()" (click)="edit()" class="align-with-text">
                    <md-icon>mode_edit</md-icon>
                </button>
                <button md-icon-button type="button" *ngIf="!readonly" (click)="contacts.addContact()" class="align-with-text">
                    <md-icon>group_add</md-icon>
                </button>
            </md-card-title>
            <md-card-content>
                <customer-info [form]="customerForm" [allowSearch]="true"
                               (customerChange)="onCustomerChange($event)"></customer-info>
                <div class="row form-group">
                    <div class="col m6" *ngIf="showCopyToBilling && !readonly">
                        <md-checkbox>Kopioi tiedot laskutusosoitteeksi</md-checkbox>
                    </div>
                    <div class="col m6 height-fix-bottom" *ngIf="showRepresentative">
                        <md-checkbox [checked]="parentForm.value.hasRepresentative" [disabled]="readonly"
                                     (change)="onRepresentativeChange($event.checked)">
                            Asiaa hoitaa asiamies
                        </md-checkbox>
                    </div>
                    <div class="col m6 height-fix-bottom" *ngIf="showPropertyDeveloper">
                        <md-checkbox [checked]="parentForm.value.hasPropertyDeveloper" [disabled]="readonly"
                                     (change)="onPropertyDeveloperChange($event.checked)">
                            Hakemuksella on rakennuttaja
                        </md-checkbox>
                    </div>
                </div>
            </md-card-content>
        </md-card>
    </div>
</form>
<contact #contacts [parentForm]="parentForm" [customerId]="customerWithContacts.customerId"
         [contactList]="customerWithContacts.contacts" [customerRoleType]="customerWithContacts.uiRoleType"
         [readonly]="readonly" [contactRequired]="contactRequired">
</contact>
