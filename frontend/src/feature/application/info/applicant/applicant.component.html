<form [formGroup]="applicantForm">
    <div class="col m6 loose">
        <md-card>
            <md-card-title>{{headerText}}</md-card-title>
            <md-card-content>
                <div class="row form-group">
                    <div class="input-field col m6">
                        <select *ngIf="!readonly" formControlName="type"
                                materialize="material_select">
                            <option value="" disabled selected>Valitse hakijan tyyppi*</option>
                            <option *ngFor="let type of applicantTypes" [value]="type">{{translations.applicant.type[type].name}}</option>
                        </select>
                        <field-error [form]="applicantForm" field="type" hasError="required">{{translations.applicant.field.typeMissing}}</field-error>

                        <div *ngIf="readonly">
                            <input id="applicantType" type="text" [readonly]="true"
                                   value="{{translations.applicant.type[applicantForm.value.type || 'DEFAULT'].name}}" >
                            <label for="applicantType">Hakijan tyyppi</label>
                        </div>
                    </div>
                    <div class="input-field col m6">
                        <input id="country" type="text" [readonly]="readonly" formControlName="country">
                        <label for="country">Maa</label>
                    </div>
                </div>
                <div class="row form-group">
                    <div class="input-field col m8">
                        <input id="applicantName" type="text" formControlName="name" [readonly]="readonly">
                        <label for="applicantName">{{translations.applicant.type[applicantForm.value.type || 'DEFAULT'].nameLabel}}*</label>
                        <field-error [form]="applicantForm" field="name" hasError="required">{{translations.applicant.field.nameMissing}}</field-error>
                        <field-error [form]="applicantForm" field="name" hasError="minlength">{{translations.applicant.field.nameShort}}</field-error>
                    </div>
                    <div class="input-field col m4">
                        <input id="businessID" type="text" formControlName="registryKey" [readonly]="readonly">
                        <label for="businessID">{{translations.applicant.type[applicantForm.value.type || 'DEFAULT'].id}}*</label>
                        <field-error [form]="applicantForm" field="registryKey" hasError="required">{{translations.applicant.field.registryKeyMissing}}</field-error>
                        <field-error [form]="applicantForm" field="registryKey" hasError="minlength">{{translations.applicant.field.registryKeyShort}}</field-error>
                    </div>
                </div>
                <div formGroupName="postalAddress" class="row form-group">
                    <div class="input-field col m6">
                        <input id="applicantAddress" type="text" formControlName="streetAddress" [readonly]="readonly">
                        <label for="applicantAddress">{{ meta?.getUiName('applicant.address') }}</label>
                    </div>
                    <div class="input-field col m3">
                        <input id="applicantPostalCode" type="text" formControlName="postalCode" [readonly]="readonly">
                        <label for="applicantPostalCode">{{ meta?.getUiName('applicant.postalCode') }}</label>
                    </div>
                    <div class="input-field col m3">
                        <input id="applicantCity" type="text" formControlName="city" [readonly]="readonly">
                        <label for="applicantCity">{{ meta?.getUiName('applicant.postOffice') }}</label>
                    </div>
                </div>
                <div class="row form-group">
                    <div class="input-field col m4">
                        <input id="applicantPhone" type="text" formControlName="phone" [readonly]="readonly">
                        <label for="applicantPhone">{{ meta?.getUiName('applicant.phoneNumber') }}</label>
                        <field-error [form]="applicantForm" field="email" hasError="required">{{translations.applicant.field.phoneShort}}</field-error>
                    </div>
                    <div class="input-field col m8">
                        <input id="applicantEmail" type="text" formControlName="email" [readonly]="readonly">
                        <label for="applicantEmail">{{ meta?.getUiName('applicant.email') }}</label>
                        <field-error [form]="applicantForm" field="email" hasError="pattern">{{translations.applicant.field.invalidEmail}}</field-error>
                    </div>
                </div>
                <div *ngIf="!readonly" class="row form-group">
                    <div class="col m7 height-fix-bottom">
                        <input type="checkbox" class="filled-in" id="copyToBilling" />
                        <label for="copyToBilling">Kopioi tiedot laskutusosoitteeksi</label>
                    </div>
                    <div class="col m5 height-fix-bottom">
                        <input type="checkbox" class="filled-in" formControlName="representative" id="representative"/>
                        <label for="representative">Asiaa hoitaa asiamies</label>
                    </div>
                </div>
            </md-card-content>
        </md-card>
    </div>
</form>
