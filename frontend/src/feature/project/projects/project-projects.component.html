<div class="row valign-wrapper">
    <div class="col s6 valign">
        <a md-raised-button type="button" color="primary"
           routerLink="/projects/edit" [queryParams]="{parentProject: project.id}">UUSI</a>
        <button md-raised-button type="button" color="primary" (click)="remove()">POISTA</button>
    </div>
    <div class="col s6 valign-wrapper">
        <div class="col s2 valign input-field-label">Liit채 hanke:</div>
        <div class="col s10">
            <md-input-container class="input-full-width">
                <input mdInput type="text" [readonly]="readonly"
                       [autocompletion]="matchingProjects"
                       minTermLength="1"
                       nameField="idWithName"
                       (onSearchChange)="onIdentifierSearchChange($event)"
                       (onSelection)="add($event)" placeholder="Hankkeen tunnus"/>
            </md-input-container>
        </div>
    </div>
</div>
<div class="row">
    <div class=" col s12">
        <table class="bordered responsive-table header">
            <thead>
            <tr>
                <th>
                    <md-checkbox [(ngModel)]="allSelected" (click)="checkAll()"></md-checkbox>
                </th>
                <th>Lis채채j채</th>
                <th sortBy="id" [currentSort]="sort" (onSortChange)="sortBy($event)">Tunnus</th>
                <th sortBy="ownerName" [currentSort]="sort" (onSortChange)="sortBy($event)">Omistaja</th>
                <th sortBy="active" [currentSort]="sort" (onSortChange)="sortBy($event)">Tila</th>
                <th>Kaupunginosa</th>
                <th sortBy="startTime" [currentSort]="sort" (onSortChange)="sortBy($event)">Alku</th>
                <th sortBy="endTime" [currentSort]="sort" (onSortChange)="sortBy($event)">Loppu</th>
                <th>Suhde</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let row of sortedProjectRows" class="clickable row-highlight" (click)="goToInfo($event.target.cellIndex, row)">
                <td>
                    <md-checkbox [ngModel]="row.selected" (change)="checkSingle(row)"></md-checkbox>
                </td>
                <td>-</td>
                <td>{{row.content.id}} <br></td>
                <td>{{row.content.ownerName}}</td>
                <td>
                    <span *ngIf="row.content.active">Aktiivinen</span>
                    <span *ngIf="!row.content.active">Inaktiivinen</span>
                </td>
                <td>{{districtNames(row.content.cityDistricts) | async | commaSeparated}}</td>
                <td>{{ row.content.startTime | date:dateFormat }}</td>
                <td>{{ row.content.endTime | date:dateFormat }}</td>
                <td>
                    <i *ngIf="isChild(row.content.parentId)" class="material-icons">arrow_downward</i>
                    <i *ngIf="!isChild(row.content.parentId)" class="material-icons">arrow_upward</i>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
