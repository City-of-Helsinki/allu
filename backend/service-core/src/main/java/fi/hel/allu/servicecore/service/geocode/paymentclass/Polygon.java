package fi.hel.allu.servicecore.service.geocode.paymentclass;

import javax.xml.bind.annotation.XmlElement;
import java.util.ArrayList;
import java.util.List;

public class Polygon {

  static final String invalidInnerBoundary = "2.55000619062E7,6679522.6487 2.55000619027E7,6679522.6547 2.55000332373E7,6679555.4366 2.54999445934E7,6679659.5589 2.5499944575E7,6679659.5735 2.5499944563E7,6679659.5936 2.54999247422E7,6679681.4761 2.54999246309E7,6679681.5587 2.5499924539E7,6679681.6626 2.549991751E7,6679687.013 2.54998836705E7,6679719.61 2.54998829913E7,6679720.367 2.54998786248E7,6679725.2332 2.54998767724E7,6679727.2977 2.54998766718E7,6679727.373 2.5499876563E7,6679727.4905 2.54998714941E7,6679731.3394 2.54998683183E7,6679734.3986 2.54998681022E7,6679734.5713 2.54998616197E7,6679738.8371 2.54998558285E7,6679743.2344 2.54998557591E7,6679743.2841 2.54998375015E7,6679755.5741 2.54998374054E7,6679755.6336 2.54998277555E7,6679761.1213 2.54998212048E7,6679765.432 2.54998209969E7,6679765.5463 2.5499816056E7,6679767.7746 2.54998078776E7,6679772.4255 2.54998077678E7,6679772.4821 2.54997806282E7,6679785.0848 2.54997805308E7,6679785.1259 2.54997614616E7,6679792.3956 2.54997591408E7,6679793.4422 2.54997589796E7,6679793.504 2.54997563859E7,6679794.3306 2.54997503672E7,6679796.6251 2.54997384412E7,6679802.8862 2.54997364385E7,6679803.6759 2.54996740524E7,6679820.7907 2.549970939859149E7,6679812.74336037 2.549976858255143E7,6679792.65311311 2.54997832555E7,6679786.2856 2.549982463788092E7,6679765.00968377 2.549987660545772E7,6679730.28605909 2.5499881111E7,6679726.7859 2.54998811449E7,6679726.7595 2.5499890457E7,6679719.0154 2.549989730518177E7,6679712.53914801 2.54998991901E7,6679710.624 2.54999018177E7,6679707.7893 2.54999470083E7,6679657.6128 2.54999562602E7,6679647.1731 2.54999627738E7,6679639.644 2.55000387141E7,6679550.7895 2.55000387465E7,6679550.7519 2.55000499195E7,6679537.9389 2.55000499292E7,6679537.9278 2.5500059958E7,6679527.1061 2.550006198763027E7,6679525.05466259 2.55000705629E7,6679516.8483 2.55000690124E7,6679515.1601 2.55000621081E7,6679522.4155 2.55000619117E7,6679522.6444 2.55000619062E7,6679522.6487";

  @XmlElement(name = "outerBoundaryIs", namespace = "http://www.opengis.net/gml")
  public OuterBoundary outerBoundary;

  @XmlElement(name = "innerBoundaryIs", namespace = "http://www.opengis.net/gml")
  public List<InnerBoundary> innerBoundaries;

  public PolygonCoordinates getCoordinates() {
    List<String> innerBoundaryCoordinates = new ArrayList<>();
    if (innerBoundaries != null)
      for (InnerBoundary innerBoundary : innerBoundaries) {
        String boundary = innerBoundary.getCoordinates();
        if (boundary.compareTo(invalidInnerBoundary) != 0)
          innerBoundaryCoordinates.add(boundary);
      }
    return new PolygonCoordinates(outerBoundary.getCoordinates(), innerBoundaryCoordinates);
  }
}
